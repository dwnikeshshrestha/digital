import{j as e,m as w,L as C,S as L}from"./app-D9C9WzTT.js";import{L as r,I as p}from"./label-B8CAmFyP.js";import{t as x,A as F}from"./app-layout-CrmdUHeW.js";import{c as S,B as h}from"./button-XvKB-xSC.js";import{I as u}from"./input-uUSjwcob.js";import{S as T,a as E,b as A,c as M,d as P,e as k,f as j}from"./select-DtIEZ3kV.js";import{C as D,E as U,P as B,B as R,I as z,T as q,a as G,b as O,c as K,d as V,e as H}from"./ckeditor5-DiVukqUT.js";import{L as f}from"./loader-circle-hvdnHz3e.js";import"./index-UIoN3lVw.js";import"./index-ADCbVk3L.js";import"./index-CNgR8KO9.js";import"./index-CFzLgGUw.js";import"./app-logo-icon-B0LspShO.js";import"./index-D27eKpTq.js";import"./chevron-down-_Yl3Ekg6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Y=S("Upload",W);function Z({name:l,title:n,imageName:s,error:a,handleFileUpload:c}){return e.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-slate-200 p-6 shadow-sm drop-shadow-lg",children:[e.jsxs("div",{className:"flex cursor-pointer flex-col items-center justify-center gap-2 rounded-2xl bg-gray-100 p-8",children:[s?e.jsx("div",{className:"flex w-full flex-col items-center",children:e.jsx("img",{src:s?URL.createObjectURL(s):"",alt:"Preview",className:"mb-2 h-32 w-full rounded-lg object-cover"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-full bg-[var(--primary)] p-3",children:e.jsx("label",{htmlFor:l,children:e.jsx(Y,{className:"h-8 w-8 text-white"})})}),e.jsx("h2",{className:"mt-2 text-xl font-medium",children:"Upload Image "}),e.jsx("p",{className:"text-sm text-gray-500",children:"Image size must be less than 4MB"})]}),a&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:a})]}),e.jsx("label",{htmlFor:l,className:"mt-4 block w-full cursor-pointer rounded-full bg-[var(--primary)] py-1.5 text-center font-medium text-white transition-colors",children:n}),e.jsx("input",{type:"file",id:l,onChange:c,accept:"image/*",className:"hidden",name:l})]})}const b=["jpg","jpeg","png"],v=4,$=l=>{var i,m;const{name:n,size:s}=l,a=n,c=s,d=((m=(i=a==null?void 0:a.split("."))==null?void 0:i.pop())==null?void 0:m.toLowerCase())??"";return b.indexOf(d)===-1?(x.error("Invalid file type. Allowed types: "+b.join(", ")),!1):c>v*1024*1024?(x.error("Invalid file Size size must be :"+v+"MB"),!1):!0},J=[{title:"Password settings",href:"/settings/password"}];function ue({initialItems:l=[],user:n}){const{data:s,setData:a,post:c,processing:d,errors:i,reset:m}=w({title:"",slug:"",description:"",image:null,image_alt:"",meta_title:"",meta_description:"",is_active:""}),I=t=>{t.preventDefault(),c(route("blogs.store"),{onFinish:()=>m("title")})};function y(t){return t.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}console.log("user",n),console.log("data",s);const _=async t=>{const{files:o}=t.target||{};if(o&&o.length>0){if(!$(o[0]))return;a("image",o[0])}};return e.jsxs(F,{breadcrumbs:J,children:[e.jsx(C,{title:"Profile settings"}),e.jsx("section",{className:"px-5 py-5",children:e.jsx("form",{className:"flex flex-col gap-6",onSubmit:I,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"title",children:"Title"}),e.jsx(u,{id:"title",type:"title",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"title",value:s.title,onChange:t=>{a("title",t.target.value),a("slug",y(t.target.value))},placeholder:"Title"}),e.jsx(p,{message:i.title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"slug",children:"Slug"}),e.jsx(u,{id:"slug",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"title",value:s.slug,placeholder:"Title"}),e.jsx(p,{message:i.slug})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(D,{editor:V,config:{licenseKey:"GPL",plugins:[U,B,R,z,q,G,O,K],toolbar:["undo","redo","|","bold","italic","|","insertTable","insertTableLayout"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties"]},initialData:"<p>Hello from CKEditor 5 in React!</p>"},data:s.description,onReady:t=>{console.log("Editor 2 is ready to use!",t)},onChange:(t,o)=>{console.log("event",t);const g=o.getData();console.log("Change: ",g),a(N=>({...N,description:g}))}})]}),e.jsx("div",{className:"grid gap-2",children:e.jsx(Z,{name:"image",imageName:s.image,error:"",handleFileUpload:t=>_(t),title:"Image"})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"image_alt",children:"Image Alt"}),e.jsx(u,{id:"image_alt",type:"image_alt",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"image_alt",value:s.image_alt,onChange:t=>{a("image_alt",t.target.value)},placeholder:"Image Alt"}),e.jsx(p,{message:i.image_alt})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"meta_title",children:"Meta Title"}),e.jsx(u,{id:"meta_title",type:"meta_title",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"meta_title",value:s.meta_title,onChange:t=>{a("meta_title",t.target.value)},placeholder:"Meta Title"}),e.jsx(p,{message:i.image_alt})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"remarks",children:"Meta Description"}),e.jsx(H,{className:"mt-1 block min-h-[150px] w-full border p-2",name:"Remarks",value:s.meta_description,onChange:t=>{a("meta_description",t.target.value)}})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(r,{htmlFor:"title",children:"Status"}),e.jsxs(T,{onValueChange:t=>a("is_active",t),children:[e.jsx(E,{className:"w-full",children:e.jsx(A,{placeholder:"Select a fruit"})}),e.jsx(M,{children:e.jsxs(P,{children:[e.jsx(k,{children:"Select the Status"}),e.jsx(j,{value:"1",children:"Active"}),e.jsx(j,{value:"0",children:"InActive"})]})})]})]}),e.jsxs("div",{children:[e.jsxs(h,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:d,children:[d&&e.jsx(f,{className:"h-4 w-4 animate-spin"}),"Create"]}),e.jsxs(h,{className:"mt-4 w-full bg-red-500 text-white hover:bg-red-600",tabIndex:4,onClick:()=>L.get(route("menus.index")),children:[d&&e.jsx(f,{className:"h-4 w-4 animate-spin"}),"Cancel"]})]})]})})}),e.jsx("section",{className:"px-5 py-5"})]})}export{ue as default};
