import{r,j as w,t as H,U as R}from"./app-D9C9WzTT.js";import{b as M,a as S,d as z,c as V}from"./index-CNgR8KO9.js";import{P as N,d as K}from"./index-UIoN3lVw.js";import{u as D,S as _}from"./button-XvKB-xSC.js";const I=768;function le(){const[t,e]=r.useState();return r.useEffect(()=>{const n=window.matchMedia(`(max-width: ${I-1}px)`),s=()=>{e(window.innerWidth<I)};return n.addEventListener("change",s),e(window.innerWidth<I),()=>n.removeEventListener("change",s)},[]),!!t}function $(t,e=globalThis==null?void 0:globalThis.document){const n=M(t);r.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var q="DismissableLayer",T="dismissableLayer.update",X="dismissableLayer.pointerDownOutside",Y="dismissableLayer.focusOutside",W,F=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G=r.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:d,onDismiss:u,...C}=t,a=r.useContext(F),[l,P]=r.useState(null),m=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=r.useState({}),f=D(e,c=>P(c)),y=Array.from(a.layers),[E]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(E),p=l?y.indexOf(l):-1,x=a.layersWithOutsidePointerEventsDisabled.size>0,b=p>=v,O=Z(c=>{const L=c.target,B=[...a.branches].some(g=>g.contains(L));!b||B||(o==null||o(c),d==null||d(c),c.defaultPrevented||u==null||u())},m),A=ee(c=>{const L=c.target;[...a.branches].some(g=>g.contains(L))||(i==null||i(c),d==null||d(c),c.defaultPrevented||u==null||u())},m);return $(c=>{p===a.layers.size-1&&(s==null||s(c),!c.defaultPrevented&&u&&(c.preventDefault(),u()))},m),r.useEffect(()=>{if(l)return n&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(W=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(l)),a.layers.add(l),k(),()=>{n&&a.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=W)}},[l,m,n,a]),r.useEffect(()=>()=>{l&&(a.layers.delete(l),a.layersWithOutsidePointerEventsDisabled.delete(l),k())},[l,a]),r.useEffect(()=>{const c=()=>h({});return document.addEventListener(T,c),()=>document.removeEventListener(T,c)},[]),w.jsx(N.div,{...C,ref:f,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:S(t.onFocusCapture,A.onFocusCapture),onBlurCapture:S(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:S(t.onPointerDownCapture,O.onPointerDownCapture)})});G.displayName=q;var J="DismissableLayerBranch",Q=r.forwardRef((t,e)=>{const n=r.useContext(F),s=r.useRef(null),o=D(e,s);return r.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w.jsx(N.div,{...t,ref:o})});Q.displayName=J;function Z(t,e=globalThis==null?void 0:globalThis.document){const n=M(t),s=r.useRef(!1),o=r.useRef(()=>{});return r.useEffect(()=>{const i=u=>{if(u.target&&!s.current){let C=function(){j(X,n,a,{discrete:!0})};const a={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=C,e.addEventListener("click",o.current,{once:!0})):C()}else e.removeEventListener("click",o.current);s.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function ee(t,e=globalThis==null?void 0:globalThis.document){const n=M(t),s=r.useRef(!1);return r.useEffect(()=>{const o=i=>{i.target&&!s.current&&j(Y,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function k(){const t=new CustomEvent(T);document.dispatchEvent(t)}function j(t,e,n,{discrete:s}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?K(o,i):o.dispatchEvent(i)}var te=H.useId||(()=>{}),ne=0;function ue(t){const[e,n]=r.useState(te());return z(()=>{n(s=>s??String(ne++))},[t]),t||(e?`radix-${e}`:"")}var se="VisuallyHidden",U=r.forwardRef((t,e)=>w.jsx(N.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));U.displayName=se;var de=U;function fe(t){const e=t+"CollectionProvider",[n,s]=V(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),d=h=>{const{scope:f,children:y}=h,E=R.useRef(null),v=R.useRef(new Map).current;return w.jsx(o,{scope:f,itemMap:v,collectionRef:E,children:y})};d.displayName=e;const u=t+"CollectionSlot",C=R.forwardRef((h,f)=>{const{scope:y,children:E}=h,v=i(u,y),p=D(f,v.collectionRef);return w.jsx(_,{ref:p,children:E})});C.displayName=u;const a=t+"CollectionItemSlot",l="data-radix-collection-item",P=R.forwardRef((h,f)=>{const{scope:y,children:E,...v}=h,p=R.useRef(null),x=D(f,p),b=i(a,y);return R.useEffect(()=>(b.itemMap.set(p,{ref:p,...v}),()=>void b.itemMap.delete(p))),w.jsx(_,{[l]:"",ref:x,children:E})});P.displayName=a;function m(h){const f=i(t+"CollectionConsumer",h);return R.useCallback(()=>{const E=f.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${l}]`));return Array.from(f.itemMap.values()).sort((b,O)=>v.indexOf(b.ref.current)-v.indexOf(O.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:d,Slot:C,ItemSlot:P},m,s]}var re=r.createContext(void 0);function Ee(t){const e=r.useContext(re);return t||e||"ltr"}export{G as D,de as R,U as V,ue as a,le as b,fe as c,Ee as u};
